{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/Cluster-Research-new/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/Cluster-Research-new/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/Cluster-Research-new/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import\"../App.css\";import{useState,useEffect}from\"react\";import Table from\"react-bootstrap/Table\";import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import styled,{keyframes}from\"styled-components\";import Slider from\"@mui/material/Slider\";import axios from\"axios\";import*as d3 from\"d3\";import{highlightLabel,getCentroid,findMatchingPoints,clearSelectedMatchingPoints,reset}from\"../d3-rendering/projectionManipulationFunctions.js\";import{InfoTooltip}from\"./InfoTooltip.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var localDevURL=\"http://127.0.0.1:8000/\";var DEFAULT_PROMPT=\"What is the common theme between the selected sentences?\";// Loading animation\nvar breatheAnimation=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n 0% { opacity: 0.6; }\\n 50% { opacity: 1; }\\n 100% { opacity: 0.6; }\"])));var PlaceholderImage=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  animation-name: \",\";\\n  animation-duration: 1.5s;\\n  animation-iteration-count: infinite;\\n\"])),breatheAnimation);var LabelSearch=function LabelSearch(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),substring=_useState2[0],setSubstring=_useState2[1];var handleSubstringChange=function handleSubstringChange(e){setSubstring(e.target.value);};var enterSubmit=function enterSubmit(e){if(e.key===\"Enter\"){handleSubmit();}};var handleSubmit=function handleSubmit(){clearSelectedMatchingPoints();reset();findMatchingPoints(substring);};var handleReset=function handleReset(){clearSelectedMatchingPoints();reset();};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"findSubstring\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"button-box\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"substring\",size:\"sm\",placeholder:\"Enter Keywords\",onChange:handleSubstringChange,onKeyPress:enterSubmit}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"secondary\",type:\"submit\",onClick:handleSubmit,children:\"Search\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-secondary\",className:\"resetButton\",onClick:handleReset,children:\"reset\"})]})})});};// Analysis panel for displaying info\nexport var RightPanel=function RightPanel(_ref){var selectedPoints=_ref.selectedPoints,pathPoints=_ref.pathPoints,topWords=_ref.topWords,wordsLoading=_ref.wordsLoading,prompt=_ref.prompt,setPrompt=_ref.setPrompt,explanation=_ref.explanation,keyVal=_ref.keyVal,setKeyVal=_ref.setKeyVal,autoClusterLabel=_ref.autoClusterLabel,setautoClusterLabel=_ref.setautoClusterLabel,onautoClusterLabelchange=_ref.onautoClusterLabelchange;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedItems=_useState4[0],setSelectedItems=_useState4[1];var _useState5=useState(prompt),_useState6=_slicedToArray(_useState5,2),promptValue=_useState6[0],setPromptValue=_useState6[1];var associatedWordsExplanation=\"We run a linear classifier on points in the circled area versus points not in the circled area. We return the top 30 words that are positively and negatively associated with being in the circled area\";// Generates table items if there are selected points\nuseEffect(function(){if(selectedPoints.length>0){var labelDict={};// Calculates centroid of lassoed area\nconsole.log(pathPoints,selectedPoints);var centroid={x:0,y:0};if(pathPoints.length!=0){var _centroid=getCentroid(pathPoints);}var _iterator=_createForOfIteratorHelper(selectedPoints),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var point=_step.value;// Creates ids for a table item, if there are multiple of the same label, this allows you to map from the table item to the labels\nif(point.label in labelDict){labelDict[point.label].id=labelDict[point.label].id+\" \"+point.id;}else{labelDict[point.label]={id:point.id};}// Calculates distance from the centroid of the lassoed area to the point\nlabelDict[point.label].distFromCentroid=Math.sqrt(Math.pow(point.cx-centroid.x,2)+Math.pow(point.cy-centroid.y,2));}// Sorts labels by distance from the centroid\n}catch(err){_iterator.e(err);}finally{_iterator.f();}var labelsArray=Object.entries(labelDict);labelsArray.sort(function(a,b){return a[1].distFromCentroid-b[1].distFromCentroid;});var newSelectedItems=[];for(var _i=0,_labelsArray=labelsArray;_i<_labelsArray.length;_i++){var _labelsArray$_i=_slicedToArray(_labelsArray[_i],2),label=_labelsArray$_i[0],countInfo=_labelsArray$_i[1];// Highlights top words in the label if topwords is populated\nif(topWords.positiveWord!==null){var splitLabel=label.split(\" \");for(var i=splitLabel.length-1;i>-1;i--){var lowercaseCopy=splitLabel[i].toLowerCase().replace(/[.,/#!$?%^&*;:\"{}=\\-_`~()]/g,\"\");switch(lowercaseCopy){case topWords.positiveWords[0]:splitLabel[i]=/*#__PURE__*/_jsx(\"mark\",{className:\"positive-mark-1\",children:splitLabel[i]},countInfo.id);break;case topWords.positiveWords[1]:splitLabel[i]=/*#__PURE__*/_jsx(\"mark\",{className:\"positive-mark-2\",children:splitLabel[i]},countInfo.id);break;case topWords.positiveWords[2]:splitLabel[i]=/*#__PURE__*/_jsx(\"mark\",{className:\"positive-mark-3\",children:splitLabel[i]},countInfo.id);break;case topWords.negativeWord:splitLabel[i]=/*#__PURE__*/_jsx(\"mark\",{className:\"negative-mark\",children:splitLabel[i]},countInfo.id);break;default:break;}// Adds space\nif(i===splitLabel.length-1){continue;}else{splitLabel.splice(i+1,0,\" \");}}label=splitLabel;// console.log(\"newLabel\", lab el);\n}newSelectedItems.push(/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(e){return highlightLabel(e);},children:[/*#__PURE__*/_jsx(\"td\",{children:newSelectedItems.length+1}),/*#__PURE__*/_jsx(\"td\",{id:countInfo.id,className:\"label\",children:label})]},countInfo.id));}setSelectedItems(newSelectedItems);}// Update selected items if selection is cleared\nelse if(selectedPoints.length===0&&selectedItems.length>0){setSelectedItems([]);}},[selectedPoints,topWords,pathPoints,selectedItems.length]);var handleNewPrompt=function handleNewPrompt(e){if(promptValue!==\"\"){setPrompt(promptValue);}console.log(promptValue);document.querySelector(\"#promptTextArea\").value=\"\";};var handleChangePrompt=function handleChangePrompt(e){setPromptValue(e.target.value);};var handleChangeText=function handleChangeText(e){var text_value=e.target.value;axios.post(localDevURL+\"test-projection\",{text:text_value}).then(function(response){console.log(response);// SVG\nvar svg=d3.select(\"#containerSVG\");svg.append(\"g\").selectAll(\"circle\").data(response.data.data).enter().append(\"circle\").attr(\"r\",50).attr(\"opacity\",1).attr(\"id\",'test-point').attr(\"cx\",function(d){var centerX=+d[0];return centerX;}).attr(\"cy\",function(d){var centerY=+d[1];return centerY;}).attr(\"fill\",\"green\");}).catch(function(error){console.log(error);});};var handleChangeKey=function handleChangeKey(e){console.log(\"setting key value:\",e.target.value);setKeyVal(e.target.value);};var handleChangeautoClusterLabel=function handleChangeautoClusterLabel(e){console.log(\"setting clusterlabel value:\",e.target.value);setautoClusterLabel(e.target.value);onautoClusterLabelchange();};var handleReset=function handleReset(){setPrompt(DEFAULT_PROMPT);document.querySelector(\"#promptTextArea\").value=\"\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"right panel\",children:[/*#__PURE__*/_jsx(LabelSearch,{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{id:\"auto-explanation\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"AutoCluster Explanation\"}),/*#__PURE__*/_jsx(\"div\",{className:\"autoExplanationslider\",children:/*#__PURE__*/_jsx(Slider,{\"aria-label\":\"AutoCluster Label\",value:autoClusterLabel,valueLabelDisplay:\"auto\",onChange:handleChangeautoClusterLabel,step:1,marks:true,min:1,max:30})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"new-text\",children:/*#__PURE__*/_jsx(Form.Control,{className:\"form-control\",id:\"TestProjectionArea\",size:\"sm\",as:\"textarea\",rows:3,placeholder:\"Enter Text Here\",onChange:handleChangeText})}),/*#__PURE__*/_jsxs(\"div\",{id:\"natural-language-explanation\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Interactive Explanation\"}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Control,{className:\"form-control\",size:\"sm\",placeholder:keyVal===\"\"?\"OpenAI Key\":keyVal,onChange:handleChangeKey}),/*#__PURE__*/_jsx(Form.Control,{className:\"form-control\",id:\"promptTextArea\",size:\"sm\",as:\"textarea\",rows:3,placeholder:\"current prompt: \"+prompt,onChange:handleChangePrompt}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-box\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"secondary\",type:\"submit\",onClick:handleNewPrompt,children:\"Set Prompt\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-secondary\",className:\"resetButton\",onClick:handleReset,children:\"Reset\"})]})]}),/*#__PURE__*/_jsx(Form.Control,{className:\"form-control\",id:\"explanation\",size:\"sm\",as:\"textarea\",rows:3,placeholder:explanation//onChange={handleChangePrompt}\n})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Associated words\"}),/*#__PURE__*/_jsx(InfoTooltip,{text:associatedWordsExplanation})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"cloud-div\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"positive-cloud-div\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Inside\"}),wordsLoading?/*#__PURE__*/_jsx(PlaceholderImage,{src:\"https://storage.googleapis.com/htw-website-uploads/Grey-placeholder-image2.jpg\",className:\"placeholder-image\",id:\"pos-placeholder\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{id:\"negative-cloud-div\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Outside\"}),wordsLoading?/*#__PURE__*/_jsx(PlaceholderImage,{src:\"https://storage.googleapis.com/htw-website-uploads/Grey-placeholder-image2.jpg\",className:\"placeholder-image\",id:\"neg-placeholder\"}):null]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{id:\"unique-items-div\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"title\",children:[selectedItems.length>0?selectedItems.length+\" total unique\":0,\" \",\"items\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tableDiv\",children:/*#__PURE__*/_jsxs(Table,{bordered:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Item\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedItems})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"footerSpacing\"})]});};","map":{"version":3,"names":["useState","useEffect","Table","Form","Button","styled","keyframes","Slider","axios","d3","highlightLabel","getCentroid","findMatchingPoints","clearSelectedMatchingPoints","reset","InfoTooltip","localDevURL","DEFAULT_PROMPT","breatheAnimation","PlaceholderImage","img","LabelSearch","substring","setSubstring","handleSubstringChange","e","target","value","enterSubmit","key","handleSubmit","handleReset","RightPanel","selectedPoints","pathPoints","topWords","wordsLoading","prompt","setPrompt","explanation","keyVal","setKeyVal","autoClusterLabel","setautoClusterLabel","onautoClusterLabelchange","selectedItems","setSelectedItems","promptValue","setPromptValue","associatedWordsExplanation","length","labelDict","console","log","centroid","x","y","point","label","id","distFromCentroid","Math","sqrt","cx","cy","labelsArray","Object","entries","sort","a","b","newSelectedItems","countInfo","positiveWord","splitLabel","split","i","lowercaseCopy","toLowerCase","replace","positiveWords","negativeWord","splice","push","handleNewPrompt","document","querySelector","handleChangePrompt","handleChangeText","text_value","post","text","then","response","svg","select","append","selectAll","data","enter","attr","d","centerX","centerY","catch","error","handleChangeKey","handleChangeautoClusterLabel"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/Cluster-Research-new/frontend/src/components/RightPanel.js"],"sourcesContent":["import \"../App.css\";\nimport { useState, useEffect } from \"react\";\nimport Table from \"react-bootstrap/Table\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport styled, { keyframes } from \"styled-components\";\nimport Slider from \"@mui/material/Slider\";\nimport axios from \"axios\";\nimport * as d3 from \"d3\";\n\n\n\n\nimport {\n  highlightLabel,\n  getCentroid,\n  findMatchingPoints,\n  clearSelectedMatchingPoints,\n  reset,\n} from \"../d3-rendering/projectionManipulationFunctions.js\";\nimport { InfoTooltip } from \"./InfoTooltip.js\";\n\n\nconst localDevURL = \"http://127.0.0.1:8000/\";\n\nconst DEFAULT_PROMPT =\n  \"What is the common theme between the selected sentences?\";\n\n// Loading animation\nconst breatheAnimation = keyframes`\n 0% { opacity: 0.6; }\n 50% { opacity: 1; }\n 100% { opacity: 0.6; }`;\n\nconst PlaceholderImage = styled.img`\n  animation-name: ${breatheAnimation};\n  animation-duration: 1.5s;\n  animation-iteration-count: infinite;\n`;\n\nconst LabelSearch = () => {\n  const [substring, setSubstring] = useState(\"\");\n\n  const handleSubstringChange = (e) => {\n    setSubstring(e.target.value);\n  };\n\n  const enterSubmit = (e) => {\n    if (e.key === \"Enter\") {\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = () => {\n    clearSelectedMatchingPoints();\n    reset();\n    findMatchingPoints(substring);\n  };\n\n  const handleReset = () => {\n    clearSelectedMatchingPoints();\n    reset();\n  };\n\n  return (\n    <>\n      <Form.Group className=\"mb-3\" controlId=\"findSubstring\">\n          \n        <div className=\"button-box\">\n          <Form.Control\n            type=\"substring\"\n            size=\"sm\"\n            placeholder=\"Enter Keywords\"\n            onChange={handleSubstringChange}\n            onKeyPress={enterSubmit}\n          />\n          <Button\n            size=\"sm\"\n            variant=\"secondary\"\n            type=\"submit\"\n            onClick={handleSubmit}\n          >\n            Search\n          </Button>\n          <Button\n            size=\"sm\"\n            variant=\"outline-secondary\"\n            className=\"resetButton\"\n            onClick={handleReset}\n          >\n            reset\n          </Button>\n        </div>\n      </Form.Group>\n    </>\n  );\n};\n\n// Analysis panel for displaying info\nexport const RightPanel = ({\n  selectedPoints,\n  pathPoints,\n  topWords,\n  wordsLoading,\n  prompt,\n  setPrompt,\n  explanation,\n  keyVal,\n  setKeyVal,\n  autoClusterLabel,\n  setautoClusterLabel,\n  onautoClusterLabelchange \n}) => {\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [promptValue, setPromptValue] = useState(prompt);\n  const associatedWordsExplanation =\n    \"We run a linear classifier on points in the circled area versus points not in the circled area. We return the top 30 words that are positively and negatively associated with being in the circled area\";\n\n  // Generates table items if there are selected points\n  useEffect(() => {\n    if (selectedPoints.length > 0) {\n      let labelDict = {};\n\n      // Calculates centroid of lassoed area\n      console.log(pathPoints,selectedPoints)\n\n      let centroid = {x:0, y:0}\n\n      if (pathPoints.length != 0) {\n        let centroid = getCentroid(pathPoints);\n\n      }\n\n      for (let point of selectedPoints) {\n        // Creates ids for a table item, if there are multiple of the same label, this allows you to map from the table item to the labels\n        if (point.label in labelDict) {\n          labelDict[point.label].id =\n            labelDict[point.label].id + \" \" + point.id;\n        } else {\n          labelDict[point.label] = { id: point.id };\n        }\n\n        // Calculates distance from the centroid of the lassoed area to the point\n        labelDict[point.label].distFromCentroid = Math.sqrt(\n          (point.cx - centroid.x) ** 2 + (point.cy - centroid.y) ** 2\n        );\n      }\n\n      // Sorts labels by distance from the centroid\n      let labelsArray = Object.entries(labelDict);\n      labelsArray.sort(function (a, b) {\n        return a[1].distFromCentroid - b[1].distFromCentroid;\n      });\n\n      let newSelectedItems = [];\n      for (let [label, countInfo] of labelsArray) {\n        // Highlights top words in the label if topwords is populated\n        if (topWords.positiveWord !== null) {\n          let splitLabel = label.split(\" \");\n          for (let i = splitLabel.length - 1; i > -1; i--) {\n            let lowercaseCopy = splitLabel[i]\n              .toLowerCase()\n              .replace(/[.,/#!$?%^&*;:\"{}=\\-_`~()]/g, \"\");\n\n            switch (lowercaseCopy) {\n              case topWords.positiveWords[0]:\n                splitLabel[i] = (\n                  <mark key={countInfo.id} className=\"positive-mark-1\">\n                    {splitLabel[i]}\n                  </mark>\n                );\n                break;\n              case topWords.positiveWords[1]:\n                splitLabel[i] = (\n                  <mark key={countInfo.id} className=\"positive-mark-2\">\n                    {splitLabel[i]}\n                  </mark>\n                );\n                break;\n              case topWords.positiveWords[2]:\n                splitLabel[i] = (\n                  <mark key={countInfo.id} className=\"positive-mark-3\">\n                    {splitLabel[i]}\n                  </mark>\n                );\n                break;\n              case topWords.negativeWord:\n                splitLabel[i] = (\n                  <mark key={countInfo.id} className=\"negative-mark\">\n                    {splitLabel[i]}\n                  </mark>\n                );\n                break;\n              default:\n                break;\n            }\n\n            // Adds space\n            if (i === splitLabel.length - 1) {\n              continue;\n            } else {\n              splitLabel.splice(i + 1, 0, \" \");\n            }\n          }\n          label = splitLabel;\n          // console.log(\"newLabel\", lab el);\n        }\n        newSelectedItems.push(\n          <tr key={countInfo.id} onClick={(e) => highlightLabel(e)}>\n            <td>{newSelectedItems.length + 1}</td>\n            <td id={countInfo.id} className=\"label\">\n              {label}\n            </td>\n          </tr>\n        );\n      }\n\n      setSelectedItems(newSelectedItems);\n    } // Update selected items if selection is cleared\n    else if (selectedPoints.length === 0 && selectedItems.length > 0) {\n      setSelectedItems([]);\n    }\n  }, [selectedPoints, topWords, pathPoints, selectedItems.length]);\n\n  const handleNewPrompt = (e) => {\n    if (promptValue !== \"\") {\n      setPrompt(promptValue);\n    }\n\n    console.log(promptValue);\n\n    document.querySelector(\"#promptTextArea\").value = \"\";\n  };\n\n  const handleChangePrompt = (e) => {\n    setPromptValue(e.target.value);\n  };\n\n  \n\n  const handleChangeText = (e) => {\n\n    let text_value = e.target.value\n    axios\n    .post(localDevURL + \"test-projection\", {\n      text: text_value,\n    })\n    .then((response) => {\n      console.log(response);\n      // SVG\n      var svg = d3.select(\"#containerSVG\")\n      svg\n        .append(\"g\")\n        .selectAll(\"circle\")\n        .data(response.data.data)\n        .enter()\n        .append(\"circle\")\n        .attr(\"r\", 50)\n        .attr(\"opacity\", 1)\n        .attr(\"id\", 'test-point')\n        .attr(\"cx\", (d) => {\n          let centerX = +d[0];\n          return centerX;\n        })\n        .attr(\"cy\", (d) => {\n          let centerY = +d[1];\n          return centerY;\n        })\n        .attr(\"fill\", \"green\")\n\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n\n  };\n  \n\n  const handleChangeKey = (e) => {\n    console.log(\"setting key value:\", e.target.value);\n    setKeyVal(e.target.value);\n  };\n\n  const handleChangeautoClusterLabel = (e) => {\n    console.log(\"setting clusterlabel value:\", e.target.value);\n    setautoClusterLabel(e.target.value);\n    onautoClusterLabelchange()\n  };\n  \n  const handleReset = () => {\n    setPrompt(DEFAULT_PROMPT);\n    document.querySelector(\"#promptTextArea\").value = \"\";\n  };\n\n\n  return (\n    <div className=\"right panel\">\n      <LabelSearch />\n      <hr />\n      <div id=\"auto-explanation\">\n        <p className=\"title\">AutoCluster Explanation</p>\n        <div className=\"autoExplanationslider\">\n          <Slider\n            aria-label=\"AutoCluster Label\"\n            value={autoClusterLabel}\n            valueLabelDisplay=\"auto\"\n            onChange={handleChangeautoClusterLabel}\n            step={1}\n            marks\n            min={1}\n            max={30}\n          />\n      </div></div>\n      <div id=\"new-text\">\n\n      <Form.Control\n            className=\"form-control\"\n            id=\"TestProjectionArea\"\n            size=\"sm\"\n            as=\"textarea\"\n            rows={3}\n            placeholder={\"Enter Text Here\"}\n            onChange={handleChangeText}\n          ></Form.Control>\n          </div>\n      <div id=\"natural-language-explanation\">\n        <p className=\"title\">Interactive Explanation</p>\n        <Form.Group>\n          <Form.Control\n            className=\"form-control\"\n            size=\"sm\"\n            placeholder={keyVal === \"\" ? \"OpenAI Key\" : keyVal}\n            onChange={handleChangeKey}\n          ></Form.Control>\n          <Form.Control\n            className=\"form-control\"\n            id=\"promptTextArea\"\n            size=\"sm\"\n            as=\"textarea\"\n            rows={3}\n            placeholder={\"current prompt: \" + prompt}\n            onChange={handleChangePrompt}\n          ></Form.Control>\n          <div className=\"button-box\">\n            <Button\n              size=\"sm\"\n              variant=\"secondary\"\n              type=\"submit\"\n              onClick={handleNewPrompt}\n            >\n              Set Prompt\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"outline-secondary\"\n              className=\"resetButton\"\n              onClick={handleReset}\n            >\n              Reset\n            </Button>\n          </div>\n        </Form.Group>\n        <Form.Control\n            className=\"form-control\"\n            id=\"explanation\"\n            size=\"sm\"\n            as=\"textarea\"\n            rows={3}\n            placeholder={explanation}\n            //onChange={handleChangePrompt}\n          ></Form.Control>\n      </div>\n      <hr />\n\n      <div className=\"title\">\n        <p>Associated words</p>\n        <InfoTooltip text={associatedWordsExplanation} />\n      </div>\n      <div id=\"cloud-div\">\n        <div id=\"positive-cloud-div\">\n          <p>Inside</p>\n          {wordsLoading ? (\n            <PlaceholderImage\n              src=\"https://storage.googleapis.com/htw-website-uploads/Grey-placeholder-image2.jpg\"\n              className=\"placeholder-image\"\n              id=\"pos-placeholder\"\n            />\n          ) : null}\n        </div>\n        <div id=\"negative-cloud-div\">\n          <p>Outside</p>\n          {wordsLoading ? (\n            <PlaceholderImage\n              src=\"https://storage.googleapis.com/htw-website-uploads/Grey-placeholder-image2.jpg\"\n              className=\"placeholder-image\"\n              id=\"neg-placeholder\"\n            />\n          ) : null}\n        </div>\n      </div>\n      <hr />\n      <div id=\"unique-items-div\">\n        <p className=\"title\">\n          {selectedItems.length > 0\n            ? selectedItems.length + \" total unique\"\n            : 0}{\" \"}\n          items\n        </p>\n      </div>\n      <div className=\"tableDiv\">\n        <Table bordered>\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Item</th>\n            </tr>\n          </thead>\n          <tbody>{selectedItems}</tbody>\n        </Table>\n      </div>\n      <div className=\"footerSpacing\"></div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}